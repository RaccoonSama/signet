{"version":3,"sources":["images/avatar.png","service/config.js","service/firebase.js","composants/Entete.jsx","composants/Dossier.jsx","service/crud-dossier.js","composants/ListeDossiers.jsx","composants/Acceuil.jsx","composants/Appli.jsx","index.jsx"],"names":["collUtil","collDossiers","firebase","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","instanceFirebaseAuth","auth","instanceFirestore","firestore","instanceFirebaseUi","firebaseui","AuthUI","Entete","props","utilisateur","className","Button","variant","size","onClick","signOut","displayName","Avatar","alt","src","photoURL","Dossier","titre","couleur","modification","couverture","style","backgroundColor","IconButton","aria-label","disableRipple","dateFormat","objetDatefb","dateJS","Date","seconds","jour","getDate","mois","getMonth","annee","getFullYear","uid","a","dossiersTemp","collection","doc","get","then","reponse","forEach","push","id","data","ListeDossiers","useState","dossiers","setDossiers","useEffect","crudDossiers","lesDossiers","map","dossier","Acceuil","start","signInOptions","GoogleAuthProvider","PROVIDER_ID","signInFlow","Appli","setUtilisateur","onAuthStateChanged","util","set","nom","courriel","email","merge","Fab","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.acf568e6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar.0486c3da.png\";","\r\nexport const firebaseConfig = {\r\n    apiKey: \"AIzaSyAmtX_Q-C-aU64ZGfDxu90myW6qppWbHLI\",\r\n    authDomain: \"cours-react-firebase.firebaseapp.com\",\r\n    projectId: \"cours-react-firebase\",\r\n    storageBucket: \"cours-react-firebase.appspot.com\",\r\n    messagingSenderId: \"752948488573\",\r\n    appId: \"1:752948488573:web:6720b2db593f3e96c24414\"\r\n  };\r\n\r\n  export const collUtil = 'signets-utilisateurs';\r\n\r\n  export const collDossiers = 'dossiers';","import firebase from 'firebase/app';\r\nimport firestore from 'firebase/firestore';\r\nimport * as firebaseui from 'firebaseui';\r\nimport {firebaseConfig} from './config'\r\n\r\n\r\n\r\n\r\nif(firebase.apps.length === 0) {\r\nfirebase.initializeApp(firebaseConfig);\r\n}\r\n\r\nexport const instanceFirebaseAuth = firebase.auth();\r\n\r\nexport const instanceFirestore = firebase.firestore();\r\n\r\nexport const instanceFirebaseUi = new firebaseui.auth.AuthUI(firebase.auth());","import './Entete.scss';\r\n\r\nimport { Avatar } from '@material-ui/core'; \r\nimport Button from '@material-ui/core/Button'; \r\nimport avatarImg from '../images/avatar.png';\r\nimport firebase from 'firebase/app';\r\nimport {instanceFirebaseAuth} from '../service/firebase';\r\n\r\nexport default function Entete(props) {\r\n  const utilisateur = props.utilisateur;\r\n  return (\r\n    <header className=\"Entete\">\r\n      <div className=\"logo\">Signets\r\n      <Button\r\n      variant=\"outlined\"\r\n      size=\"small\"\r\n      className=\"btnDeco\"\r\n      onClick={()=>instanceFirebaseAuth.signOut()}\r\n      >  \r\n        Déconnexion</Button>\r\n      \r\n      </div>\r\n      <div className=\"utilisateur\">{utilisateur.displayName} <Avatar className=\"avatar\" alt={utilisateur.displayName} src={utilisateur.photoURL} /></div>\r\n    </header>\r\n  );\r\n}","import './Dossier.scss'; \r\nimport { IconButton } from '@material-ui/core';\r\nimport SortIcon from '@material-ui/icons/Sort';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nexport default function Dossier({titre, couleur, modification, couverture}) {\r\n  return (\r\n    <article className=\"Dossier\" style={{backgroundColor: couleur}}>\r\n      <div className=\"couverture\">\r\n        <IconButton className=\"deplacer\" aria-label=\"déplacer\" disableRipple={true}>\r\n          <SortIcon />\r\n        </IconButton>\r\n        <img src={couverture} alt={titre}/>\r\n      </div>\r\n      <div className=\"info\">\r\n        <h2>{titre}</h2>\r\n        <p>Modifié : {dateFormat(modification)}</p>\r\n      </div>\r\n      <IconButton className=\"modifier\" aria-label=\"modifier\" size=\"small\">\r\n        <MoreVertIcon />\r\n      </IconButton> \r\n    </article>\r\n  );\r\n}\r\n\r\nfunction dateFormat(objetDatefb) {\r\n  let dateJS = (objetDatefb) ? new Date(objetDatefb.seconds*1000) : new Date;\r\n  let nomMois = ['janvier','février','mars','avril','mai','juin','juillet','aout', 'septembre', 'octobre', 'novembre', 'décembre']\r\n  let jour = dateJS.getDate();\r\n  let mois = nomMois[dateJS.getMonth()];\r\n  let annee = dateJS.getFullYear();\r\n\r\n  return `${jour} ${mois} ${annee}`;\r\n\r\n}","import {instanceFirestore} from './firebase';\r\nimport {collUtil, collDossiers} from './config';\r\n\r\nexport async function lireTout(uid) {\r\n    let dossiersTemp = [];\r\n    return instanceFirestore.collection(collUtil).doc(uid).collection(collDossiers).get().then(\r\n        reponse => {\r\n        reponse.forEach(doc =>  dossiersTemp.push({id: doc.id, ...doc.data() })); \r\n        \r\n      }\r\n    ).then(\r\n        () => dossiersTemp\r\n    )\r\n    \r\n}\r\n\r\nexport async function supprimer() {\r\n    \r\n}\r\nexport async function modifier() {\r\n    \r\n}\r\nexport async function ajouter() {\r\n    \r\n}","import './ListeDossiers.scss';\r\nimport Dossier from './Dossier';\r\nimport { useState, useEffect } from 'react';\r\nimport * as crudDossiers from '../service/crud-dossier';\r\n\r\n\r\n\r\nexport default function ListeDossiers({utilisateur}) {\r\n  const [dossiers, setDossiers] = useState([]);\r\n\r\n  useEffect(\r\n    () => crudDossiers.lireTout(utilisateur.uid).then(\r\n      lesDossiers => setDossiers(lesDossiers)\r\n    )\r\n    , []\r\n  );\r\n\r\n  return (\r\n    <ul className=\"ListeDossiers\">\r\n      {\r\n       dossiers.map( \r\n          dossier =>  <li key={dossier.id}><Dossier {...dossier} /></li>\r\n        )\r\n      }\r\n    </ul>\r\n  );\r\n}\r\n\r\n\r\n\r\n","import './Acceuil.scss';\r\nimport firebase from 'firebase/app';\r\nimport {instanceFirebaseUi} from '../service/firebase';\r\nimport 'firebaseui/dist/firebaseui.css';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nexport default function Acceuil(props) {\r\n\r\n    useEffect(() => {\r\n        instanceFirebaseUi.start('#fbui', {\r\n            signInOptions : [\r\n                firebase.auth.GoogleAuthProvider.PROVIDER_ID\r\n            ],\r\n            signInFlow : 'popup'\r\n        });\r\n      \r\n    }, []);\r\n\r\n\r\n\r\n\r\n     return (\r\n        <div className=\"Acceuil\">\r\n            <h3 className=\"logo\">Signets <span>beta</span></h3>\r\n             <h2 className=\"amorce\">Organisez vos signets web, <br/> un jeu d'enfant</h2>\r\n             <div id=\"fbui\"></div>\r\n        </div>\r\n    );\r\n}","import './Appli.scss';\r\nimport Entete from './Entete';\r\nimport ListeDossiers from './ListeDossiers';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Acceuil from './Acceuil';\r\nimport { useEffect, useState } from 'react';\r\nimport firebase from 'firebase/app';\r\nimport {instanceFirestore} from '../service/firebase';\r\nimport {instanceFirebaseAuth} from '../service/firebase';\r\nimport {collUtil} from '../service/config';\r\n\r\nexport default function Appli() {\r\n  const [utilisateur, setUtilisateur] = useState(null);\r\n\r\n  useEffect(() =>\r\n  {\r\n    instanceFirebaseAuth.onAuthStateChanged(\r\n      util => {\r\n        setUtilisateur(util);\r\n        instanceFirestore.collection(collUtil).doc(util.uid).set(\r\n          {nom: util.displayName, courriel: util.email},\r\n          {merge: true}\r\n        )\r\n      }\r\n    )\r\n  }\r\n  \r\n  \r\n  ,[]);\r\n\r\n  return (\r\n    <div className=\"Appli\">\r\n     { \r\n     (utilisateur) ?\r\n      <>\r\n       <Entete utilisateur={utilisateur}/>\r\n        <section className=\"contenu-principal\">\r\n          <ListeDossiers utilisateur={utilisateur}/>\r\n          <Fab className=\"ajoutRessource\" color=\"primary\" aria-label=\"Ajouter dossier\">\r\n            <AddIcon />\r\n          </Fab>\r\n        </section>\r\n        </>\r\n      :\r\n        <Acceuil/>}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport Appli from './composants/Appli';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Appli />\r\n  </React.StrictMode>,\r\n  document.getElementById('racine')\r\n);\r\n"],"sourceRoot":""}